类型工具顾名思义，它就是对类型进行处理的工具。如果按照使用方式来划分，类型工具可以分成三类：**操作符、关键字与专用语法**



而按照使用目的来划分，类型工具可以分为 **类型创建** 与 **类型安全保护** 两类。



### 类型别名

- 类型别名的作用主要是对一组类型或一个特定类型结构进行封装，以便于在其它地方进行复用

- 类型别名还能作为工具类型。**工具类同样基于类型别名，只是多了个泛型**。

- 工具类型能够接受泛型参数，实现**更灵活的类型创建功能**。从这个角度看，工具类型就像一个函数一样，泛型是入参，内部逻辑基于入参进行某些操作，再返回一个新的类型。

- 对于工具类型来说，它的主要意义是**基于传入的泛型进行各种类型操作**，得到一个新的类型



### 联合类型和交叉类型

- 交叉类型和联合类型的区别就是，联合类型只需要符合成员之一即可（`||`），而交叉类型需要严格符合每一位成员（`&&`）



### 索引类型

- 索引类型指的不是某一个特定的类型工具，它其实包含三个部分：**索引签名类型**、**索引类型查询**与**索引类型访问**

- 唯一共同点是，**它们都通过索引的形式来进行类型操作**，但索引签名类型是**声明**，后两者则是**读取**。



#### 索引签名类型

- 索引签名类型主要指的是在接口或类型别名中，**快速声明一个键值类型一致的类型结构**

#### 索引类型查询

- keyof 操作符。它可以将对象中的所有键转换为对应字面量类型，然后再组合成联合类型。注意，**这里并不会将数字类型的键名转换为字符串类型字面量，而是仍然保持为数字类型字面量**。

- **keyof 的产物必定是一个联合类型**

#### 索引类型访问

- 其访问方式与返回值均是类型

- 索引类型查询的本质其实就是，**通过键的字面量类型（`'propA'`）访问这个键对应的键值类型（`number`）**

- 注意，在未声明索引签名类型的情况下，我们不能使用 `NumberRecord[string]` 这种原始类型的访问方式，而只能通过键名的字面量类型来进行访问。



### 映射类型

- 映射类型指的就是一个确切的类型工具

- 映射类型的主要作用即是**基于键名映射到键值类型**

| 类型工具   | 创建新类型的方式                         | 常见搭配      |
| ------ | -------------------------------- | --------- |
| 类型别名   | 将一组类型/类型结构封装，作为一个新的类型            | 联合类型、映射类型 |
| 工具类型   | 在类型别名的基础上，基于泛型去动态创建新类型           | 基本所有类型工具  |
| 联合类型   | 创建一组类型集合，满足其中一个类型即满足这个联合类型（\|\|） | 类型别名、工具类型 |
| 交叉类型   | 创建一组类型集合，满足其中所有类型才满足映射联合类型（&&）   | 类型别名、工具类型 |
| 索引签名类型 | 声明一个拥有任意属性，键值类型一致的接口结构           | 映射类型      |
| 索引类型查询 | 从一个接口结构，创建一个由其键名字符串字面量组成的联合类型    | 映射类型      |
| 索引类型访问 | 从一个接口结构，使用键名字符串字面量访问到对应的键值类型     | 类型别名、映射类型 |
| 映射类型   | 从一个联合类型依次映射到其内部的每一个类型            | 工具类型      |
|        |                                  |           |



### typeof

- 绝大部分情况下，typeof 返回的类型就是当你把鼠标悬浮在变量名上时出现的推导后的类型，并且是**最窄的推导程度（即到字面量类型的级别）**。

- 在逻辑代码中使用的 typeof 一定会是 JavaScript 中的 typeof，而类型代码（如类型标注、类型别名中等）中的一定是类型查询的 typeof

### 类型守卫

- 实际上，将判断逻辑封装起来提取到函数外部进行复用非常常见。为了解决这一类型控制流分析的能力不足， TypeScript 引入了 **is 关键字**来显式地提供类型信息

### 基于 in 与 instanceof 的类型保护



### 类型断言守卫

- **断言守卫和类型守卫最大的不同点在于，在判断条件不通过时，断言守卫需要抛出一个错误，类型守卫只需要剔除掉预期的类型。** 这里的抛出错误可能让你想到了 never 类型，但实际情况要更复杂一些，断言守卫并不会始终都抛出错误，所以它的返回值类型并不能简单地使用 never 类型

- 
