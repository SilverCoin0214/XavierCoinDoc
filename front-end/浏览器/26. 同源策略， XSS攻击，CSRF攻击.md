## 同源策略

浏览器默认两个相同的源之间是可以相互访问资源和操作 DOM 的。两个不同的源之间若想要相互访问资源或者操作 DOM，那么会有一套基础的安全策略的制约，我们把这称为同源策略。

- DOM层面。 同源策略限制不同源的JS脚本对于当前DOM对象的操作
- 数据层面。 同源策略限制不同源的站点读取当前站点的Cookie, indexDB, LocalStorage等数据。
- 网络层面。 同源策略限制了通过 XMLHttpRequest 等方式将站点的数据发送给不同源的站点。

## 安全和便利性的权衡

### 1. 页面中可以嵌入第三方资源
### 2. 跨域资源共享和跨文档消息机制

----

## XSS攻击

XSS 全称是 Cross Site Scripting，为了与“CSS”区分开来，故简称 XSS，翻译过来就是“跨站脚本”。XSS 攻击是指黑客往 HTML 文件中或者 DOM 中注入恶意脚本，从而在用户浏览页面时利用注入的恶意脚本对用户实施攻击的一种手段。

### 1. 存储型 XSS 攻击
-   首先黑客利用站点漏洞将一段恶意 JavaScript 代码提交到网站的数据库中；
-   然后用户向网站请求包含了恶意 JavaScript 脚本的页面；
-   当用户浏览该页面的时候，恶意脚本就会将用户的 Cookie 信息等数据上传到服务器。

### 2. 反射型 XSS 攻击
### 3. 基于 DOM 的 XSS 攻击



##   如何阻止 XSS 攻击

### 1. 服务器对输入脚本进行过滤或转码
### 2. 充分利用 CSP
### 3. 使用 HttpOnly 属性

---

